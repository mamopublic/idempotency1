experiment:
  iterations: 3
  output_dir: "experiments"
  ball_window_size: 2
 
models:
  text_model: "openai/gpt-4o-mini"
  vision_model: "google/gemini-2.0-flash-001"
  embedding_model: "google/siglip-so400m-patch14-384"
  rescue_model: "openai/gpt-4o"
  rescue_retries: 3
 
generation:
  text_temperature: 0.1
  vision_temperature: 0.1
  max_retries: 5

mermaid:
  executable_path: "npx"
 
system_prompts:
  diagram_generation: |
    You are an expert Mermaid.js diagram generator.
    Your task is to generate VALID syntax for a diagram based on the description provided.
    
    CRITICAL RULES:
    1. Output ONLY the code block.
    2. Do NOT wrap in generic markdown blocks like ```mermaid ... ``` unless specifically asked, but better to output just the code text or standard code fences.
    3. Ensure no syntax errors.
    4. Use standard Mermaid syntax.
    
    If the description implies a flow, use `graph TD` or `graph LR`.
  
  vision_extraction: |
    You are an expert technical writer.
    Your task is to describe the diagram in this image in precise detail so that a developer can recreate it using Mermaid.js code.
    
    Guidelines:
    1. Describe the structure (nodes, edges, direction).
    2. Describe the labels on nodes and edges clearly.
    3. Be specific about shapes if visible (rectangles, diamonds).
    4. Do not interpret the meaning too much, focus on structure.
    5. Output the description as a plain text paragraph.
  
  diagram_fix: |
    You are an expert Mermaid.js debugger.
    The following underlying Mermaid code caused a rendering error.
    
    Error Message:
    {error_message}
    
    Code:
    {code}
    
    Task: Fix the syntax error. 
    1. Return ONLY the corrected Mermaid code.
    2. Do not explain the fix.
    3. Ensure the structure represents the original intent.
    4. VERY IMPORTANT: Ensure NO edge labels are empty strings like `-- "" -->`. If a label is empty, remove the label wrapper or use a generic arrow `-->`.
    5. Edges must be `-->` or `---|label|-->`. Do NOT use `==>` unless necessary.
    
costs: 
  "openai/gpt-4o-mini":
    input: 0.15
    output: 0.60
  "google/gemini-2.0-flash-001":
    input: 0.0
    output: 0.0
  "openai/gpt-4o":
    input: 2.50
    output: 10.00
